(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{28138:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>F});var a=t(95155),r=t(36489),i=t(20063),n=t(53635),l=t(26921),d=t(1524),c=t(91761),o=t(16485);function m(e){let{gastoDiarioPermitido:s,diasRestantes:t,saldo:r}=e,i=new Date,n=new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),m=i.getDate(),x=m/n*100,h=()=>s<=0?"text-red-600":s<50?"text-yellow-600":"text-green-600";return(0,a.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 overflow-hidden shadow-lg rounded-lg border border-blue-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Gasto Di\xe1rio Permitido"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-1 ".concat(h()),children:s<=0?(0,a.jsx)(l.A,{className:"w-5 h-5"}):(0,a.jsx)(d.A,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold ".concat(h()," mb-2"),children:["R$"," ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:s<=0?"Saldo insuficiente para o m\xeas":s<50?"Gasto di\xe1rio limitado":"Voc\xea pode gastar confortavelmente"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,a.jsx)("span",{children:"Progresso do m\xeas"}),(0,a.jsxs)("span",{children:[m,"/",n," dias"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(x,"%")}})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Dias restantes"}),(0,a.jsx)("div",{className:"font-medium text-gray-900",children:t})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(c.A,{className:"w-4 h-4 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-gray-500",children:"Saldo atual"}),(0,a.jsxs)("div",{className:"font-medium ".concat(r>=0?"text-green-600":"text-red-600"),children:["R$"," ",r.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]})]}),s>0&&(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,a.jsxs)("p",{className:"text-xs text-blue-800",children:["\uD83D\uDCA1 ",(0,a.jsx)("strong",{children:"Dica:"})," Mantenha seus gastos di\xe1rios abaixo de R$"," ",s.toLocaleString("pt-BR",{minimumFractionDigits:2})," ","para manter o or\xe7amento equilibrado at\xe9 o final do m\xeas."]})})]})})}var x=t(12115),h=t(26991),g=t(80019),u=t(68425),j=t(47734),p=t(74595),N=t(33420),f=t(37665),b=t(89585);function v(){let[e,s]=(0,x.useState)(()=>{let e=new Date;return"".concat(e.getFullYear(),"-").concat(String(e.getMonth()+1).padStart(2,"0"))}),{data:t,loading:r,error:i}=function(e){let[s,t]=(0,x.useState)([]),[a,r]=(0,x.useState)(!0),[i,n]=(0,x.useState)(null),l=(0,x.useCallback)(async()=>{try{r(!0),n(null);let s=await fetch("/api/dashboard/transacoes-por-dia?mes=".concat(e));if(!s.ok)throw Error("Erro ao buscar transa\xe7\xf5es por dia");let a=await s.json();t(a)}catch(e){n(e instanceof Error?e.message:"Erro desconhecido")}finally{r(!1)}},[e]);return(0,x.useEffect)(()=>{e&&l()},[e,l]),{data:s,loading:a,error:i,refetch:l}}(e),n=e=>{let s=new Date(e);return"".concat(s.getDate(),"/").concat(s.getMonth()+1)},{totalEntradas:c,totalSaidas:m}={totalEntradas:t.reduce((e,s)=>e+s.entradas,0),totalSaidas:t.reduce((e,s)=>e+s.saidas,0)};return r?(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Carregando dados..."})]})})}):i?(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,a.jsx)("div",{className:"text-center text-red-500",children:(0,a.jsxs)("p",{children:["Erro ao carregar dados: ",i]})})}):(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(o.A,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Transa\xe7\xf5es Di\xe1rias"})]}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:(()=>{let e=[],s=new Date;for(let t=0;t<12;t++){let a=new Date(s.getFullYear(),s.getMonth()-t,1),r="".concat(a.getFullYear(),"-").concat(String(a.getMonth()+1).padStart(2,"0")),i=a.toLocaleDateString("pt-BR",{year:"numeric",month:"long"});e.push({valor:r,label:i})}return e})().map(e=>(0,a.jsx)("option",{value:e.valor,children:e.label},e.valor))})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-green-50 rounded-lg",children:[(0,a.jsx)(d.A,{className:"w-5 h-5 text-green-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"Total de Entradas"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-green-700",children:["R$"," ",c.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-red-50 rounded-lg",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-red-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-red-600 font-medium",children:"Total de Sa\xeddas"}),(0,a.jsxs)("div",{className:"text-lg font-bold text-red-700",children:["R$"," ",m.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]})]}),(0,a.jsx)("div",{className:"h-80",children:(0,a.jsx)(h.u,{width:"100%",height:"100%",children:(0,a.jsxs)(g.b,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[(0,a.jsx)(u.d,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),(0,a.jsx)(j.W,{dataKey:"dia",tickFormatter:n,stroke:"#666",fontSize:12}),(0,a.jsx)(p.h,{stroke:"#666",fontSize:12,tickFormatter:e=>"R$ ".concat(e.toLocaleString("pt-BR"))}),(0,a.jsx)(N.m,{formatter:(e,s)=>["R$ ".concat(e.toLocaleString("pt-BR",{minimumFractionDigits:2})),"entradas"===s?"Entradas":"Sa\xeddas"],labelFormatter:e=>"Dia: ".concat(n(e)),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,a.jsx)(f.s,{}),(0,a.jsx)(b.N,{type:"monotone",dataKey:"entradas",stroke:"#10B981",strokeWidth:3,dot:{fill:"#10B981",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#10B981",strokeWidth:2},name:"Entradas"}),(0,a.jsx)(b.N,{type:"monotone",dataKey:"saidas",stroke:"#EF4444",strokeWidth:3,dot:{fill:"#EF4444",strokeWidth:2,r:4},activeDot:{r:6,stroke:"#EF4444",strokeWidth:2},name:"Sa\xeddas"})]})})}),(0,a.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-500",children:[(0,a.jsxs)("p",{children:["Mostrando dados de"," ",new Date(e+"-01").toLocaleDateString("pt-BR",{year:"numeric",month:"long"})]}),(0,a.jsxs)("p",{className:"mt-1",children:[t.length," dias com transa\xe7\xf5es registradas"]})]})]})}var y=t(71716);function w(){let{contasRecorrentes:e,loading:s}=(0,y.M)(),t=(0,i.useRouter)(),r=e.filter(e=>{let{conta:s}=e;return s.ativo}).slice(0,5);return s?(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Contas Recorrentes"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"animate-pulse space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},e))})})]}):(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Contas Recorrentes"}),(0,a.jsx)("button",{onClick:()=>t.push("/contas-recorrentes"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver todas"})]}),0===r.length?(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"mx-auto h-12 w-12 text-gray-400",children:(0,a.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,a.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Nenhuma conta recorrente"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Cadastre suas contas recorrentes para acompanhar os pagamentos."}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("button",{onClick:()=>t.push("/contas-recorrentes"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Cadastrar Conta"})})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:r.map(e=>{let s,{conta:t,pagoEsteMes:r,diasAteVencimento:i}=e;return(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.nome}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[t.categoria.nome," â€¢ Dia ",t.diaVencimento]})]}),(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat(r?"text-green-600 bg-green-100":i<=3?"text-red-600 bg-red-100":i<=7?"text-yellow-600 bg-yellow-100":"text-blue-600 bg-blue-100"),children:r?"Pago":i<=0?"Vencido":1===i?"Amanh\xe3":"".concat(i,"d")})})]})}),(0,a.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:(s=t.valor,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(s))})})]})},t.id)})})]})}var S=t(12723),D=t(4035),k=t(69386),E=t(98128),R=t(58155);let C=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function F(){let{data:e,status:s}=(0,r.useSession)(),t=(0,i.useRouter)(),{data:l,loading:d,error:c}=function(){let[e,s]=(0,x.useState)({saldo:0,entradas:0,saidas:0,gastoDiarioPermitido:0,diasRestantes:0,transacoesPorCategoria:[],transacoesPorMes:[],transacoesPorDia:[],ultimasTransacoes:[]}),[t,a]=(0,x.useState)(!0),[r,i]=(0,x.useState)(null),n=async()=>{try{a(!0),i(null);let e=await fetch("/api/dashboard");if(!e.ok)throw Error("Erro ao buscar dados do dashboard");let t=await e.json();s(t)}catch(e){i(e instanceof Error?e.message:"Erro desconhecido")}finally{a(!1)}};return(0,x.useEffect)(()=>{n()},[]),{data:e,loading:t,error:r,refetch:n}}();return"loading"===s||d?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)("p",{children:"Carregando dashboard..."})})})]}):"unauthenticated"===s?(t.push("/login"),null):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("div",{className:"max-w-7xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"py-4 sm:py-6",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 sm:mb-8",children:"Dashboard"}),c&&(0,a.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:c}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Saldo Atual"}),(0,a.jsxs)("dd",{className:"text-lg font-medium ".concat(l.saldo>=0?"text-green-600":"text-red-600"),children:["R$"," ",l.saldo.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Entradas"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:["R$"," ",l.entradas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})}),(0,a.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,a.jsx)("div",{className:"p-4 sm:p-5",children:(0,a.jsxs)("dl",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total de Sa\xeddas"}),(0,a.jsxs)("dd",{className:"text-lg font-medium text-gray-900",children:["R$"," ",l.saidas.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})})]}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(m,{gastoDiarioPermitido:l.gastoDiarioPermitido,diasRestantes:l.diasRestantes,saldo:l.saldo})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(v,{})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)(w,{})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6 mb-6 sm:mb-8",children:[(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Gastos por Categoria"}),l.transacoesPorCategoria.length>0?(0,a.jsx)(h.u,{width:"100%",height:250,children:(0,a.jsxs)(S.r,{children:[(0,a.jsx)(D.F,{data:l.transacoesPorCategoria,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{categoria:s,percent:t}=e;return"".concat(s," ").concat((100*(t||0)).toFixed(0),"%")},outerRadius:60,fill:"#8884d8",dataKey:"valor",children:l.transacoesPorCategoria.map((e,s)=>(0,a.jsx)(k.f,{fill:C[s%C.length]},"cell-".concat(s)))}),(0,a.jsx)(N.m,{formatter:e=>["R$ ".concat(e.toLocaleString("pt-BR",{minimumFractionDigits:2})),"Valor"]})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-500",children:"Nenhum dado dispon\xedvel"})]}),(0,a.jsxs)("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Entradas vs Sa\xeddas por M\xeas"}),l.transacoesPorMes.length>0?(0,a.jsx)(h.u,{width:"100%",height:250,children:(0,a.jsxs)(E.E,{data:l.transacoesPorMes,children:[(0,a.jsx)(u.d,{strokeDasharray:"3 3"}),(0,a.jsx)(j.W,{dataKey:"mes"}),(0,a.jsx)(p.h,{}),(0,a.jsx)(N.m,{formatter:e=>["R$ ".concat(e.toLocaleString("pt-BR",{minimumFractionDigits:2})),"Valor"]}),(0,a.jsx)(f.s,{}),(0,a.jsx)(R.y,{dataKey:"entradas",fill:"#10B981",name:"Entradas"}),(0,a.jsx)(R.y,{dataKey:"saidas",fill:"#EF4444",name:"Sa\xeddas"})]})}):(0,a.jsx)("div",{className:"flex items-center justify-center h-48 text-gray-500",children:"Nenhum dado dispon\xedvel"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\xdaltimas Transa\xe7\xf5es"})}),(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:l.ultimasTransacoes.map(e=>(0,a.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center ".concat("ENTRADA"===e.categoria.tipo?"bg-green-100":"bg-red-100"),children:(0,a.jsx)("span",{className:"text-sm font-bold ".concat("ENTRADA"===e.categoria.tipo?"text-green-600":"text-red-600"),children:"ENTRADA"===e.categoria.tipo?"+":"-"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.descricao||"Sem descri\xe7\xe3o"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.categoria.nome}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.data+"T00:00:00").toLocaleDateString("pt-BR")})]})]}),(0,a.jsxs)("div",{className:"text-sm font-medium ".concat("ENTRADA"===e.categoria.tipo?"text-green-600":"text-red-600"),children:["ENTRADA"===e.categoria.tipo?"+":"-","R$"," ",e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]},e.id))}),0===l.ultimasTransacoes.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 text-lg",children:"Nenhuma transa\xe7\xe3o encontrada"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Crie sua primeira transa\xe7\xe3o para come\xe7ar"})]})]})]})})]})}},39664:(e,s,t)=>{Promise.resolve().then(t.bind(t,28138))},53635:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(95155),r=t(36489),i=t(20063),n=t(12115),l=t(15239);function d(){var e,s;let{data:t,status:d}=(0,r.useSession)(),c=(0,i.useRouter)(),[o,m]=(0,n.useState)(!1),x=()=>{(0,r.signOut)({callbackUrl:"/"})},h=()=>{m(!1)},g=[{label:"Dashboard",path:"/dashboard"},{label:"Transa\xe7\xf5es",path:"/transacoes"},{label:"Categorias",path:"/categorias"},{label:"Contas Recorrentes",path:"/contas-recorrentes"},{label:"Configura\xe7\xf5es",path:"/configuracoes"}];return(0,a.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex justify-between h-16",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(l.default,{src:"/images/jsl-financas.svg",alt:"JSL Finan\xe7as",width:363,height:68,className:"h-8 sm:h-10 w-auto"})}),"loading"===d?(0,a.jsx)("div",{className:"hidden md:flex items-center",children:(0,a.jsx)("div",{className:"text-gray-500",children:"Carregando..."})}):t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==(e=t.user)?void 0:e.email]}),g.map(e=>(0,a.jsx)("button",{onClick:()=>c.push(e.path),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:e.label},e.path)),(0,a.jsx)("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sair"})]}),(0,a.jsx)("div",{className:"md:hidden flex items-center",children:(0,a.jsx)("button",{onClick:()=>{m(!o)},className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900","aria-label":"Menu",children:(0,a.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o?(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}):(0,a.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,a.jsx)("button",{onClick:()=>c.push("/login"),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Entrar"})})]}),o&&t&&(0,a.jsx)("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 border-t",children:[(0,a.jsxs)("div",{className:"px-3 py-2 text-sm text-gray-700 border-b",children:["Ol\xe1, ",null==(s=t.user)?void 0:s.email]}),g.map(e=>(0,a.jsx)("button",{onClick:()=>{c.push(e.path),h()},className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:e.label},e.path)),(0,a.jsx)("button",{onClick:()=>{x(),h()},className:"block w-full text-left px-3 py-2 text-base font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Sair"})]})})]})})}},71716:(e,s,t)=>{"use strict";t.d(s,{M:()=>r});var a=t(12115);function r(){let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)(!0),[i,n]=(0,a.useState)(null),l=async()=>{try{r(!0),n(null);let e=await fetch("/api/contas-recorrentes");if(!e.ok)throw Error("Erro ao carregar contas recorrentes");let t=await e.json();s(t)}catch(e){n(e instanceof Error?e.message:"Erro desconhecido")}finally{r(!1)}},d=async e=>{let s=await fetch("/api/contas-recorrentes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok)throw Error((await s.json()).error||"Erro ao criar conta recorrente");let t=await s.json();return await l(),t},c=async(e,s)=>{let t=await fetch("/api/contas-recorrentes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw Error((await t.json()).error||"Erro ao atualizar conta recorrente");let a=await t.json();return await l(),a},o=async e=>{let s=await fetch("/api/contas-recorrentes/".concat(e),{method:"DELETE"});if(!s.ok)throw Error((await s.json()).error||"Erro ao excluir conta recorrente");await l()},m=async(e,s)=>{await c(e,{ativo:s})};return(0,a.useEffect)(()=>{l()},[]),{contasRecorrentes:e,loading:t,error:i,createContaRecorrente:d,updateContaRecorrente:c,deleteContaRecorrente:o,toggleContaAtiva:m,refetch:l}}}},e=>{e.O(0,[489,394,527,441,255,358],()=>e(e.s=39664)),_N_E=e.O()}]);
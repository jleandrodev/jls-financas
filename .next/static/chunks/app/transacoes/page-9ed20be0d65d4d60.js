(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768],{6357:(e,a,t)=>{"use strict";t.d(a,{A:()=>n});var r=t(95155),s=t(12115),o=t(74264);function n(e){let{isOpen:a,onClose:t,onSave:n,initialData:i}=e,[l,c]=(0,s.useState)((null==i?void 0:i.nome)||""),[d,m]=(0,s.useState)((null==i?void 0:i.tipo)||"SAIDA");return(0,s.useEffect)(()=>{a&&(c((null==i?void 0:i.nome)||""),m((null==i?void 0:i.tipo)||"SAIDA"))},[a,i]),(0,r.jsx)(o.A,{isOpen:a,onClose:t,title:i?"Editar Categoria":"Nova Categoria",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&(n({nome:l.trim(),tipo:d}),c(""),m("SAIDA"),t())},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria"}),(0,r.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Ex: Alimenta\xe7\xe3o, Sal\xe1rio...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,r.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"SAIDA",children:"Sa\xedda (Gasto)"}),(0,r.jsx)("option",{value:"ENTRADA",children:"Entrada (Receita)"})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Salvar"})]})]})})}},8519:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>x});var r=t(95155),s=t(12115),o=t(36489),n=t(20063),i=t(53635),l=t(74264),c=t(6357),d=t(71716);function m(e){let{isOpen:a,onClose:t,onSave:o,categorias:n,onCategoriaSave:i,initialData:m}=e,{contasRecorrentes:u}=(0,d.M)(),[x,h]=(0,s.useState)((null==m?void 0:m.valor.toString())||""),[g,p]=(0,s.useState)((null==m?void 0:m.descricao)||""),[f,b]=(0,s.useState)((null==m?void 0:m.data)||new Date().toISOString().split("T")[0]),[j,v]=(0,s.useState)((null==m?void 0:m.categoriaId)||""),[y,N]=(0,s.useState)((null==m?void 0:m.contaRecorrenteId)||""),[w,E]=(0,s.useState)(!1),[S,k]=(0,s.useState)(2),[C,T]=(0,s.useState)(!1);(0,s.useEffect)(()=>{n.length>0&&!j&&v(n[0].id)},[n,j]),(0,s.useEffect)(()=>{a&&(h((null==m?void 0:m.valor.toString())||""),p((null==m?void 0:m.descricao)||""),b((null==m?void 0:m.data)||new Date().toISOString().split("T")[0]),v((null==m?void 0:m.categoriaId)||""),N((null==m?void 0:m.contaRecorrenteId)||""),E(!1),k(2))},[a,m]);let A=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{isOpen:a,onClose:t,title:m?"Editar Transa\xe7\xe3o":"Nova Transa\xe7\xe3o",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),x&&j&&(o({valor:parseFloat(x),descricao:g.trim(),data:f,categoriaId:j,contaRecorrenteId:y||void 0,isParcelada:w,numeroParcelas:w?S:void 0}),h(""),p(""),b(new Date().toISOString().split("T")[0]),v(""),N(""),E(!1),k(2),t())},className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Valor"}),(0,r.jsx)("input",{type:"number",step:"0.01",value:x,onChange:e=>h(e.target.value),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,r.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),placeholder:"Descri\xe7\xe3o da transa\xe7\xe3o",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),(0,r.jsx)("input",{type:"date",value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("select",{value:j,onChange:e=>v(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:n.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.nome," (","ENTRADA"===e.tipo?"Entrada":"Sa\xedda",")"]},e.id))}),(0,r.jsx)("button",{type:"button",onClick:()=>T(!0),className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 text-sm",children:"+ Nova"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Conta Recorrente (opcional)"}),(0,r.jsxs)("select",{value:y,onChange:e=>N(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Nenhuma conta recorrente"}),u.filter(e=>{let{conta:a}=e;return a.ativo}).map(e=>{let{conta:a}=e;return(0,r.jsxs)("option",{value:a.id,children:[a.nome," - ",a.categoria.nome]},a.id)})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Vincule esta transa\xe7\xe3o a uma conta recorrente para marcar como paga"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("input",{type:"checkbox",id:"isParcelada",checked:w,onChange:e=>E(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsx)("label",{htmlFor:"isParcelada",className:"text-sm font-medium text-gray-700",children:"Transa\xe7\xe3o Parcelada"})]}),w&&(0,r.jsxs)("div",{className:"ml-6 space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"numeroParcelas",className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero de Parcelas"}),(0,r.jsx)("select",{id:"numeroParcelas",value:S,onChange:e=>k(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:24},(e,a)=>a+2).map(e=>(0,r.jsxs)("option",{value:e,children:[e,"x parcelas"]},e))})]}),(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:(0,r.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,r.jsx)("strong",{children:"Resumo:"})," ",S,"x de"," ",A(parseFloat(x||"0")/S),x&&(0,r.jsxs)("span",{className:"block text-xs text-blue-600 mt-1",children:["Total: ",A(parseFloat(x))]})]})})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Salvar"})]})]})}),(0,r.jsx)(c.A,{isOpen:C,onClose:()=>T(!1),onSave:e=>{i(e),T(!1)}})]})}var u=t(63080);function x(){let{data:e,status:a}=(0,o.useSession)(),t=(0,n.useRouter)(),[l,c]=(0,s.useState)(!1),[d,x]=(0,s.useState)(null),[h,g]=(0,s.useState)({categoriaId:"",dataInicio:"",dataFim:""}),{transacoes:p,loading:f,error:b,createTransacao:j,updateTransacao:v,deleteTransacao:y}=function(e){let[a,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[n,i]=(0,s.useState)(null),l=(0,s.useCallback)(async()=>{try{o(!0),i(null);let a=new URLSearchParams;(null==e?void 0:e.categoriaId)&&a.append("categoriaId",e.categoriaId),(null==e?void 0:e.dataInicio)&&a.append("dataInicio",e.dataInicio),(null==e?void 0:e.dataFim)&&a.append("dataFim",e.dataFim);let r=await fetch("/api/transacoes?".concat(a.toString()));if(!r.ok)throw Error("Erro ao buscar transa\xe7\xf5es");let s=await r.json();t(s)}catch(e){i(e instanceof Error?e.message:"Erro desconhecido")}finally{o(!1)}},[null==e?void 0:e.categoriaId,null==e?void 0:e.dataInicio,null==e?void 0:e.dataFim]),c=async e=>{try{let a=await fetch("/api/transacoes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.json();throw Error(e.error||"Erro ao criar transa\xe7\xe3o")}let r=await a.json();if(r.transacoes)return t(e=>[...r.transacoes,...e]),r;return t(e=>[r,...e]),r}catch(e){throw i(e instanceof Error?e.message:"Erro desconhecido"),e}},d=async(e,a)=>{try{let r=await fetch("/api/transacoes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!r.ok){let e=await r.json();throw Error(e.error||"Erro ao atualizar transa\xe7\xe3o")}let s=await r.json();return t(a=>a.map(a=>a.id===e?s:a)),s}catch(e){throw i(e instanceof Error?e.message:"Erro desconhecido"),e}},m=async e=>{try{let a=await fetch("/api/transacoes/".concat(e),{method:"DELETE"});if(!a.ok){let e=await a.json();throw Error(e.error||"Erro ao deletar transa\xe7\xe3o")}t(a=>a.filter(a=>a.id!==e))}catch(e){throw i(e instanceof Error?e.message:"Erro desconhecido"),e}};return(0,s.useEffect)(()=>{l()},[null==e?void 0:e.categoriaId,null==e?void 0:e.dataInicio,null==e?void 0:e.dataFim,l]),{transacoes:a,loading:r,error:n,createTransacao:c,updateTransacao:d,deleteTransacao:m,refetch:l}}(h),{categorias:N,loading:w,createCategoria:E}=(0,u.A)();if("loading"===a||f)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{children:"Carregando..."})})})]});if("unauthenticated"===a)return t.push("/login"),null;let S=async e=>{try{if(d)await v(d.id,e),x(null);else{let a=await j(e);a.transacoes&&a.transacoes.length>1&&alert("".concat(a.transacoes.length," parcelas criadas com sucesso!"))}}catch(e){console.error("Erro ao salvar transa\xe7\xe3o:",e),alert("Erro ao salvar transa\xe7\xe3o. Tente novamente.")}},k=async e=>{try{await E(e)}catch(e){console.error("Erro ao criar categoria:",e),alert("Erro ao criar categoria. Tente novamente.")}},C=async e=>{if(confirm("Tem certeza que deseja excluir esta transa\xe7\xe3o?"))try{await y(e)}catch(e){console.error("Erro ao deletar transa\xe7\xe3o:",e),alert("Erro ao deletar transa\xe7\xe3o. Tente novamente.")}},T=p.reduce((e,a)=>{let t=Number(a.valor)||0;return"ENTRADA"===a.categoria.tipo?e+t:e-t},0),A=isNaN(T)?0:T;return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(i.A,{}),(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-4 sm:py-6 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"py-4 sm:py-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 sm:mb-8 gap-4",children:[(0,r.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Transa\xe7\xf5es"}),(0,r.jsx)("button",{onClick:()=>c(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm font-medium w-full sm:w-auto",children:"Nova Transa\xe7\xe3o"})]}),b&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded",children:b}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Filtros"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),(0,r.jsxs)("select",{value:h.categoriaId,onChange:e=>g({...h,categoriaId:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,r.jsx)("option",{value:"",children:"Todas as categorias"}),N.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.nome," (","ENTRADA"===e.tipo?"Entrada":"Sa\xedda",")"]},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data In\xedcio"}),(0,r.jsx)("input",{type:"date",value:h.dataInicio,onChange:e=>g({...h,dataInicio:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data Fim"}),(0,r.jsx)("input",{type:"date",value:h.dataFim,onChange:e=>g({...h,dataFim:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 sm:p-6 mb-4 sm:mb-6",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:"Saldo Atual"}),(0,r.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold ".concat(A>=0?"text-green-600":"text-red-600"),children:["R$"," ",A.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,r.jsx)("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Hist\xf3rico de Transa\xe7\xf5es"})}),(0,r.jsx)("div",{className:"divide-y divide-gray-200",children:p.map(e=>(0,r.jsxs)("div",{className:"px-4 sm:px-6 py-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 sm:gap-0",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center ".concat("ENTRADA"===e.categoria.tipo?"bg-green-100":"bg-red-100"),children:(0,r.jsx)("span",{className:"text-xs sm:text-sm font-bold ".concat("ENTRADA"===e.categoria.tipo?"text-green-600":"text-red-600"),children:"ENTRADA"===e.categoria.tipo?"+":"-"})})}),(0,r.jsxs)("div",{className:"ml-3 sm:ml-4 flex-1",children:[(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.descricao||"Sem descri\xe7\xe3o"}),(0,r.jsxs)("div",{className:"text-xs sm:text-sm text-gray-500",children:[e.categoria.nome,e.contaRecorrente&&(0,r.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:e.contaRecorrente.nome})]}),(0,r.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:new Date(e.data+"T00:00:00").toLocaleDateString("pt-BR")})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between sm:justify-end space-x-2",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsxs)("div",{className:"text-sm font-medium ".concat("ENTRADA"===e.categoria.tipo?"text-green-600":"text-red-600"),children:["ENTRADA"===e.categoria.tipo?"+":"-","R$"," ",e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),(0,r.jsx)("div",{className:"text-xs sm:text-sm text-gray-500",children:"ENTRADA"===e.categoria.tipo?"Entrada":"Sa\xedda"})]}),(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{onClick:()=>{x({id:e.id,valor:e.valor,descricao:e.descricao||"",data:e.data,categoriaId:e.categoriaId}),c(!0)},className:"text-blue-400 hover:text-blue-600 text-sm",children:"✏️"}),(0,r.jsx)("button",{onClick:()=>C(e.id),className:"text-red-400 hover:text-red-600 text-sm",children:"✕"})]})]})]},e.id))}),0===p.length&&!f&&(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Nenhuma transa\xe7\xe3o encontrada"}),(0,r.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"Crie sua primeira transa\xe7\xe3o para come\xe7ar"})]})]})]})}),(0,r.jsx)(m,{isOpen:l,onClose:()=>{c(!1),x(null)},onSave:S,categorias:N,onCategoriaSave:k,initialData:d})]})}},36073:(e,a,t)=>{Promise.resolve().then(t.bind(t,8519))},53635:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});var r=t(95155),s=t(36489),o=t(20063),n=t(12115),i=t(15239);function l(){var e,a;let{data:t,status:l}=(0,s.useSession)(),c=(0,o.useRouter)(),[d,m]=(0,n.useState)(!1),u=()=>{(0,s.signOut)({callbackUrl:"/"})},x=()=>{m(!1)},h=[{label:"Dashboard",path:"/dashboard"},{label:"Transa\xe7\xf5es",path:"/transacoes"},{label:"Categorias",path:"/categorias"},{label:"Contas Recorrentes",path:"/contas-recorrentes"},{label:"Configura\xe7\xf5es",path:"/configuracoes"}];return(0,r.jsx)("nav",{className:"bg-white shadow-sm border-b",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(i.default,{src:"/images/jsl-financas.svg",alt:"JSL Finan\xe7as",width:363,height:68,className:"h-8 sm:h-10 w-auto"})}),"loading"===l?(0,r.jsx)("div",{className:"hidden md:flex items-center",children:(0,r.jsx)("div",{className:"text-gray-500",children:"Carregando..."})}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-700",children:["Ol\xe1, ",null==(e=t.user)?void 0:e.email]}),h.map(e=>(0,r.jsx)("button",{onClick:()=>c.push(e.path),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:e.label},e.path)),(0,r.jsx)("button",{onClick:u,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Sair"})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>{m(!d)},className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900","aria-label":"Menu",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:d?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}):(0,r.jsx)("div",{className:"hidden md:flex items-center space-x-4",children:(0,r.jsx)("button",{onClick:()=>c.push("/login"),className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium transition-colors",children:"Entrar"})})]}),d&&t&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-gray-50 border-t",children:[(0,r.jsxs)("div",{className:"px-3 py-2 text-sm text-gray-700 border-b",children:["Ol\xe1, ",null==(a=t.user)?void 0:a.email]}),h.map(e=>(0,r.jsx)("button",{onClick:()=>{c.push(e.path),x()},className:"block w-full text-left px-3 py-2 text-base font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:e.label},e.path)),(0,r.jsx)("button",{onClick:()=>{u(),x()},className:"block w-full text-left px-3 py-2 text-base font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Sair"})]})})]})})}},63080:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var r=t(12115);function s(){let[e,a]=(0,r.useState)([]),[t,s]=(0,r.useState)(!0),[o,n]=(0,r.useState)(null),i=async()=>{try{s(!0),n(null);let e=await fetch("/api/categorias");if(!e.ok)throw Error("Erro ao buscar categorias");let t=await e.json();a(t)}catch(e){n(e instanceof Error?e.message:"Erro desconhecido")}finally{s(!1)}},l=async e=>{try{let t=await fetch("/api/categorias",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e=await t.json();throw Error(e.error||"Erro ao criar categoria")}let r=await t.json();return a(e=>[...e,r]),r}catch(e){throw n(e instanceof Error?e.message:"Erro desconhecido"),e}},c=async(e,t)=>{try{let r=await fetch("/api/categorias/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok){let e=await r.json();throw Error(e.error||"Erro ao atualizar categoria")}let s=await r.json();return a(a=>a.map(a=>a.id===e?s:a)),s}catch(e){throw n(e instanceof Error?e.message:"Erro desconhecido"),e}},d=async e=>{try{let t=await fetch("/api/categorias/".concat(e),{method:"DELETE"});if(!t.ok){let e=await t.json();throw Error(e.error||"Erro ao deletar categoria")}a(a=>a.filter(a=>a.id!==e))}catch(e){throw n(e instanceof Error?e.message:"Erro desconhecido"),e}};return(0,r.useEffect)(()=>{i()},[]),{categorias:e,loading:t,error:o,createCategoria:l,updateCategoria:c,deleteCategoria:d,refetch:i}}},71716:(e,a,t)=>{"use strict";t.d(a,{M:()=>s});var r=t(12115);function s(){let[e,a]=(0,r.useState)([]),[t,s]=(0,r.useState)(!0),[o,n]=(0,r.useState)(null),i=async()=>{try{s(!0),n(null);let e=await fetch("/api/contas-recorrentes");if(!e.ok)throw Error("Erro ao carregar contas recorrentes");let t=await e.json();a(t)}catch(e){n(e instanceof Error?e.message:"Erro desconhecido")}finally{s(!1)}},l=async e=>{let a=await fetch("/api/contas-recorrentes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error((await a.json()).error||"Erro ao criar conta recorrente");let t=await a.json();return await i(),t},c=async(e,a)=>{let t=await fetch("/api/contas-recorrentes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!t.ok)throw Error((await t.json()).error||"Erro ao atualizar conta recorrente");let r=await t.json();return await i(),r},d=async e=>{let a=await fetch("/api/contas-recorrentes/".concat(e),{method:"DELETE"});if(!a.ok)throw Error((await a.json()).error||"Erro ao excluir conta recorrente");await i()},m=async(e,a)=>{await c(e,{ativo:a})};return(0,r.useEffect)(()=>{i()},[]),{contasRecorrentes:e,loading:t,error:o,createContaRecorrente:l,updateContaRecorrente:c,deleteContaRecorrente:d,toggleContaAtiva:m,refetch:i}}},74264:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});var r=t(95155);function s(e){let{isOpen:a,onClose:t,title:s,children:o}=e;return a?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:s}),(0,r.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),o]})}):null}}},e=>{e.O(0,[489,394,441,255,358],()=>e(e.s=36073)),_N_E=e.O()}]);